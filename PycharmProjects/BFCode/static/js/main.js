$(document).ready(function () {

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// Warning Settings 
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


popWarning();
    

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// Dashboard Tutorial 
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

// Initialize the tour
//tour.init();
// Start the tour
//tour.start();

// Global variable tour is defined in global-variables.js file. 
// Check if the user is first-time login or the user launched the tutorial through the support page. 
  if (document.getElementById("flagFirstTUser").innerText=="1" || document.getElementById("flagTutorial").innerText=="1") {
    if (tour.ended()){
        tour.restart();
    }
    else{
        tour.init();
        tour.start();
    }
  }


/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// Display Panel 
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// Drop-down List
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


initDateDropDown();

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// Glucose area chart 
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// Bar - TIR
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
 
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// Doughnut - Data quality
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// Bullet graphs
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// More Details 
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// DateRangePicker  
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////



if (firstLogin == true){
        drpHandler(firstLogin);
        firstLogin = false;
    } 

///////  Regular Date Range Picker

// Initializes date range picker
drpHandler(firstLogin=false);


/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// Replay Panel 
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// Insulin Command
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// 


// Initializes select entire day function 
selectEntireDay();

// Select the entire day when checkbox is checked 
var myLink = document.getElementById('EntireDay');
    myLink.onclick = function() {
        selectEntireDay();
    }

// Initiazes insulin slider
insSliderHandler(100);
   
// Generates insulin profile options based on the value of selector InsType 
insulinProfileGenerator();

DisableInsCommand(0);
 

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// Meal Command
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// 


//Initializes meal time slider 
timeSliderHandler(0);

mealSliderHandler(100); 

//No meals in the selected day. 
DisableMealCommand(0);


/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// Insulin Step Line Graph
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

$('#ProfileTimeSection').hide();

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// Disable Replay Panel when No Data
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// 

defaultReplay(false); 


//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// Toggle Button
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// 

toggleMeal();

   
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// Additional Parameters 
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

simExtraFeatures();


/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// Reset Replay Panel 
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// Submit Run: 
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

submit_run();


/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// Generate Report 
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

generate_report();

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// Save Replay
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

initSaveReplay();

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// Select Replay Drop Down
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

initSelectReplay();


});




                   

